---
title: utils
---

> This page is **auto-generated** from `/headers/utils.h`. Edit doc comments in the header and rebuild to update.

## Functions
- [`json_get_int`](#json-get-int)
- [`json_get_string`](#json-get-string)
- [`url_encode`](#url-encode)
- [`url_join`](#url-join)

<a id="json-get-int"></a>
### `json_get_int`
Extracts an integer field from a flat JSON object.

**Signature**
```c
int json_get_int(const char* json, const char* key, int* out_int);
```

**Parameters**

| Name | Description |
|------|-------------|
| `json` | JSON string. |
| `key` | Field name. |
| `out_int` | Pointer to receive value. |

**Returns**

0 on success; -1 missing; -3 invalid JSON.

<a id="json-get-string"></a>
### `json_get_string`
Extracts a string field from a flat JSON object.

/
/**

**Signature**
```c
int json_get_string(const char* json, const char* key, char* out, int out_size);
```

**Parameters**

| Name | Description |
|------|-------------|
| `json` | JSON string. |
| `key` | Field name to extract. |
| `out` | Buffer for value. |
| `out_size` | Size of buffer. |

**Returns**

0 on success; -1 missing; -2 buffer too small; -3 invalid JSON.

<a id="url-encode"></a>
### `url_encode`
Simple URL-encodes a string to a buffer.

**Signature**
```c
int url_encode(const char* src, char* dst, int dst_size);
```

**Parameters**

| Name | Description |
|------|-------------|
| `src` | Input string. |
| `dst` | Output buffer. |
| `dst_size` | Size of output buffer. |

**Returns**

0 on success; -1 buffer too small.

<a id="url-join"></a>
### `url_join`
Joins base URL and path with a single slash.

**Signature**
```c
int url_join(const char* base, const char* path, char* out, int out_size);
```

**Parameters**

| Name | Description |
|------|-------------|
| `base` | Base URL (no trailing slash preferred). |
| `path` | Path portion (with or without leading slash). |
| `out` | Buffer for result. |
| `out_size` | Size of buffer. |

**Returns**

0 on success; -1 buffer too small.

